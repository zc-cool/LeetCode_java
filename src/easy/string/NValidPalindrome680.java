/**
 * @author zhucheng
 * @create 2021-03-30-21:31
 */
package easy.string;
//ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² sï¼Œæœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚
//
// ç¤ºä¾‹ 1:
//
//
//è¾“å…¥: "aba"
//è¾“å‡º: True
//
//
// ç¤ºä¾‹ 2:
//
//
//è¾“å…¥: "abca"
//è¾“å‡º: True
//è§£é‡Š: ä½ å¯ä»¥åˆ é™¤cå­—ç¬¦ã€‚
//
//
// æ³¨æ„:
//
//
// å­—ç¬¦ä¸²åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯50000ã€‚
//
// Related Topics å­—ç¬¦ä¸²
// ğŸ‘ 336 ğŸ‘ 0
public class NValidPalindrome680 {
    public boolean validPalindrome(String s) {
        int pre = 0;   //æŒ‡å‘å­—ç¬¦ä¸²èµ·å§‹ä½ç½®
        int last = s.length()-1; //æŒ‡å‘å­—ç¬¦ä¸²æœ«å°¾ä½ç½®
        while(pre < last){
            //1.å¦‚æœå‡ºç°å­—ç¬¦ä¸ç›¸ç­‰çš„æƒ…å†µ
            if(s.charAt(pre) != s.charAt(last)){
                //1.1å­—ç¬¦å‡ºç°ä¸ç›¸ç­‰çš„ä½ç½®æ­£å¥½æ˜¯ä¸­é—´ä¸¤ä¸ªå…ƒç´ ï¼Œè¯´æ˜å»æ‰ä»»ä½•ä¸€ä¸ªå…ƒç´ ï¼Œéƒ½èƒ½æ»¡è¶³é¢˜æ„ï¼Œè¾¾æˆå›æ–‡ä¸²
                //ä¾‹å¦‚ï¼šabcdecba   då’Œeä¸ç›¸ç­‰ï¼Œä½†æ˜¯å»æ‰ä»»ä½•ä¸€ä¸ªï¼Œå‰©ä¸‹çš„å­—ç¬¦ä¸²éƒ½æ»¡è¶³èƒ½æ„æˆå›æ–‡ä¸²
                if(last - pre == 1){
                    return true;
                    //1.2å¦‚æœåˆšå¥½åœ¨èµ·å§‹ç‚¹ä½ç½®å‡ºç°ä¸ç›¸ç­‰ï¼Œå³å¼€å¤´å’Œæœ«å°¾å…ƒç´ ä¸ç›¸åŒã€‚æ­¤æ—¶
                    //å»æ‰æœ«å°¾å…ƒç´ å¾—åˆ°s1ï¼Œå»æ‰å¼€å¤´å…ƒç´ å¾—åˆ°s2.åˆ¤æ–­s1å’Œs2è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ä¸ªæ˜¯å›æ–‡ä¸²å³å¯
                }else if(last == s.length()-1){
                    String s1 = s.substring(pre,last);
                    String s2 = s.substring(pre+1);
                    return palindrome(s1) || palindrome(s2);
                    //1.3å¦‚æœå‡ºç°ä½ç½®ä¸æ˜¯èµ·å§‹ç‚¹ï¼Œåˆ™ç›´æ¥å»æ‰ç»“å°¾å…ƒç´ å¾—åˆ°s1ï¼Œå»æ‰å¼€å¤´å…ƒç´ å¾—åˆ°s2.å’Œä¸Šä¸€æ­¥åˆ¤æ–­ä¸€æ ·
                    //1.2ä¸­ä¸»è¦æ˜¯é˜²æ­¢å»æ‰å¼€å¤´å…ƒç´ å¾—åˆ°s2çš„æ—¶å€™å‡ºç°è¶Šç•Œ
                }else{
                    String s1 = s.substring(pre,last);
                    String s2 = s.substring(pre+1,last+1);  //åœ¨1.2ä¸­åˆ¤æ–­lastä¸æ˜¯å­—ç¬¦ä¸²æœ«å°¾ï¼Œé˜²æ­¢å‡ºç°è¶Šç•Œ
                    return palindrome(s1) || palindrome(s2);
                }
            }
            //å¦åˆ™ï¼Œè¯´æ˜ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼ŒpreæŒ‡é’ˆå‰ç§»ä¸€ä½ï¼ŒlastæŒ‡é’ˆåç§»ä¸€ä½
            pre++;
            last--;
        }
        //ç¨‹åºæ‰§è¡Œåˆ°è¿™ï¼Œè¯´æ˜å­—ç¬¦ä¸²sæœ¬èº«å°±æ˜¯å›æ–‡ä¸²ã€‚
        return true;
    }

    //å‡½æ•°ï¼šåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²
    public boolean palindrome(String ss){
        int pre = 0;
        int last = ss.length()-1;
        while(pre < last){
            if(ss.charAt(pre) != ss.charAt(last)) return false;
            pre++;
            last--;
        }
        return true;
    }


    //æ–¹æ³•äºŒï¼Œä¸ç”¨æˆªå–å­—ç¬¦ä¸²ï¼Œç›´æ¥åœ¨åŸå­—ç¬¦ä¸²ä¸Šè¿›è¡Œåˆ¤æ–­ã€‚ï¼ˆèµ·å§‹æ€è·¯å’Œæ–¹æ³•ä¸€ä¸€æ ·ï¼Œåªæ˜¯çœ‹èµ·æ¥æ¯”æ–¹æ³•ä¸€ç®€å•ï¼‰
    //å¦‚æœs[i]==s[j]ç»§ç»­i++,j--,åˆ¤æ–­æ˜¯å¦å›æ–‡
    //å¦‚æœs[i]!=s[j]
    //1.åˆ¤æ–­s[i+1]åˆ°s[j]èŒƒå›´å†…å­—ç¬¦ä¸²æ˜¯å¦å›æ–‡ï¼Œå¦‚æœæ˜¯ï¼Œå»æ‰s[i]å³å¯
    //2.æˆ–è€…åˆ¤æ–­s[i]åˆ°s[j-1]èŒƒå›´å†…æ˜¯å¦å›æ–‡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ é™¤s[j]å³å¯ï¼Œ
    public boolean validPalindrome2(String s) {
        char[] ch=s.toCharArray();
        for(int i=0,j=ch.length-1; i<j; i++,j--){
            if(ch[i]!=ch[j]){
                return isPalindrome(ch,i+1,j)||isPalindrome(ch,i,j-1);
            }
        }
        return true;
    }
    //åˆ¤æ–­å›æ–‡
    public boolean isPalindrome(char[] s,int i,int j){
        while(i<j){
            if(s[i]!=s[j]){
                return false;
            }
            i++;j--;
        }
        return true;
    }
}
